<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Visit Management System 6606 CureMD</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: auto;
        }
        
        .diagram-container {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
            min-width: 1200px;
            position: relative;
        }
        
        .title {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 30px;
        }
        
        svg {
            width: 100%;
            height: 800px;
        }
        
        .entity {
            fill: #ffffff;
            stroke: #4a90e2;
            stroke-width: 2;
            rx: 8;
        }
        
        .entity-header {
            fill: #4a90e2;
        }
        
        .entity-title {
            fill: white;
            font-size: 14px;
            font-weight: bold;
            text-anchor: middle;
            dominant-baseline: middle;
        }
        
        .field-text {
            fill: #2c3e50;
            font-size: 11px;
            font-family: 'Courier New', monospace;
        }
        
        .pk-field {
            fill: #e74c3c;
            font-weight: bold;
        }
        
        .fk-field {
            fill: #f39c12;
            font-weight: bold;
        }
        
        .relationship-line {
            stroke: #34495e;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .relationship-text {
            fill: #7f8c8d;
            font-size: 10px;
            text-anchor: middle;
        }
        
        .legend {
            font-size: 12px;
            fill: #2c3e50;
        }
        
        .legend-box {
            fill: #ecf0f1;
            stroke: #bdc3c7;
            stroke-width: 1;
            rx: 4;
        }
    </style>
</head>
<body>
    <div class="diagram-container">
        <div class="title">Patient Visit Management System 6606 CureMD</div>
        
        <svg viewBox="0 0 1200 750">
            <!-- Arrow marker definition -->
            <defs>
                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                    <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
                </marker>
            </defs>
            
            <!-- USERS Entity -->
            <g id="users" transform="translate(50, 50)">
                <rect class="entity" width="180" height="140" />
                <rect class="entity-header" width="180" height="25" />
                <text class="entity-title" x="90" y="12.5">USERS</text>
                <text class="field-text pk-field" x="10" y="45">UserId (PK)</text>
                <text class="field-text" x="10" y="60">Username</text>
                <text class="field-text" x="10" y="75">Password</text>
                <text class="field-text" x="10" y="90">UserRole</text>
                <text class="field-text" x="10" y="105">CreatedDate</text>
            </g>
            
            <!-- DOCTORS Entity -->
            <g id="doctors" transform="translate(350, 50)">
                <rect class="entity" width="200" height="155" />
                <rect class="entity-header" width="200" height="25" />
                <text class="entity-title" x="100" y="12.5">DOCTORS</text>
                <text class="field-text pk-field" x="10" y="45">DoctorId (PK)</text>
                <text class="field-text" x="10" y="60">DoctorName</text>
                <text class="field-text" x="10" y="75">Specialization</text>
                <text class="field-text" x="10" y="90">ContactNumber</text>
                <text class="field-text" x="10" y="105">Email</text>
                <text class="field-text" x="10" y="120">CreatedDate</text>
            </g>
            
            <!-- PATIENTS Entity -->
            <g id="patients" transform="translate(700, 50)">
                <rect class="entity" width="200" height="200" />
                <rect class="entity-header" width="200" height="25" />
                <text class="entity-title" x="100" y="12.5">PATIENTS</text>
                <text class="field-text pk-field" x="10" y="45">PatientId (PK)</text>
                <text class="field-text" x="10" y="60">PatientName</text>
                <text class="field-text" x="10" y="75">DateOfBirth</text>
                <text class="field-text" x="10" y="90">Gender</text>
                <text class="field-text" x="10" y="105">ContactNumber</text>
                <text class="field-text" x="10" y="120">Email</text>
                <text class="field-text" x="10" y="135">Address</text>
                <text class="field-text" x="10" y="150">EmergencyContact</text>
                <text class="field-text" x="10" y="165">CreatedDate</text>
            </g>
            
            <!-- VISITTYPES Entity -->
            <g id="visittypes" transform="translate(950, 50)">
                <rect class="entity" width="180" height="125" />
                <rect class="entity-header" width="180" height="25" />
                <text class="entity-title" x="90" y="12.5">VISITTYPES</text>
                <text class="field-text pk-field" x="10" y="45">VisitTypeId (PK)</text>
                <text class="field-text" x="10" y="60">VisitTypeName</text>
                <text class="field-text" x="10" y="75">BaseRate</text>
                <text class="field-text" x="10" y="90">Description</text>
            </g>
            
            <!-- PATIENTVISITS Entity (Central) -->
            <g id="patientvisits" transform="translate(400, 320)">
                <rect class="entity" width="220" height="265" />
                <rect class="entity-header" width="220" height="25" />
                <text class="entity-title" x="110" y="12.5">PATIENTVISITS</text>
                <text class="field-text pk-field" x="10" y="45">Id (PK)</text>
                <text class="field-text fk-field" x="10" y="60">PatientId (FK)</text>
                <text class="field-text fk-field" x="10" y="75">DoctorId (FK)</text>
                <text class="field-text fk-field" x="10" y="90">VisitTypeId (FK)</text>
                <text class="field-text" x="10" y="105">VisitDate</text>
                <text class="field-text" x="10" y="120">Note</text>
                <text class="field-text" x="10" y="135">DurationInMinutes</text>
                <text class="field-text" x="10" y="150">Fee</text>
                <text class="field-text" x="10" y="165">CreatedDate</text>
                <text class="field-text fk-field" x="10" y="180">CreatedBy (FK)</text>
                <text class="field-text" x="10" y="195">ModifiedDate</text>
                <text class="field-text fk-field" x="10" y="210">ModifiedBy (FK)</text>
            </g>
            
            <!-- ACTIVITYLOG Entity -->
            <g id="activitylog" transform="translate(50, 450)">
                <rect class="entity" width="180" height="155" />
                <rect class="entity-header" width="180" height="25" />
                <text class="entity-title" x="90" y="12.5">ACTIVITYLOG</text>
                <text class="field-text pk-field" x="10" y="45">LogId (PK)</text>
                <text class="field-text" x="10" y="60">LogDateTime</text>
                <text class="field-text" x="10" y="75">Action</text>
                <text class="field-text" x="10" y="90">Success</text>
                <text class="field-text" x="10" y="105">Details</text>
                <text class="field-text fk-field" x="10" y="120">UserId (FK)</text>
                <text class="field-text fk-field" x="10" y="135">VisitId (FK)</text>
            </g>
            
            <!-- FEERATES Entity -->
            <g id="feerates" transform="translate(750, 450)">
                <rect class="entity" width="200" height="170" />
                <rect class="entity-header" width="200" height="25" />
                <text class="entity-title" x="100" y="12.5">FEERATES</text>
                <text class="field-text pk-field" x="10" y="45">FeeRateId (PK)</text>
                <text class="field-text fk-field" x="10" y="60">VisitTypeId (FK)</text>
                <text class="field-text" x="10" y="75">BaseRate</text>
                <text class="field-text" x="10" y="90">ExtraTimeRate</text>
                <text class="field-text" x="10" y="105">ExtraTimeThreshold</text>
                <text class="field-text" x="10" y="120">EffectiveDate</text>
            </g>
            
            <!-- Relationships -->
            <!-- PATIENTVISITS to PATIENTS -->
            <path class="relationship-line" d="M 620 380 L 700 200" />
            <text class="relationship-text" x="660" y="290">1:M</text>
            
            <!-- PATIENTVISITS to DOCTORS -->
            <path class="relationship-line" d="M 450 320 L 450 205" />
            <text class="relationship-text" x="460" y="260">1:M</text>
            
            <!-- PATIENTVISITS to VISITTYPES -->
            <path class="relationship-line" d="M 620 350 L 950 120" />
            <text class="relationship-text" x="785" y="235">1:M</text>
            
            <!-- PATIENTVISITS to USERS (CreatedBy) -->
            <path class="relationship-line" d="M 400 400 L 230 150" />
            <text class="relationship-text" x="315" y="275">1:M</text>
            
            <!-- ACTIVITYLOG to USERS -->
            <path class="relationship-line" d="M 140 450 L 140 190" />
            <text class="relationship-text" x="150" y="320">1:M</text>
            
            <!-- ACTIVITYLOG to PATIENTVISITS -->
            <path class="relationship-line" d="M 230 520 L 400 480" />
            <text class="relationship-text" x="315" y="500">1:M</text>
            
            <!-- FEERATES to VISITTYPES -->
            <path class="relationship-line" d="M 850 450 L 1040 175" />
            <text class="relationship-text" x="945" y="312">1:M</text>
            
            <!-- Legend -->
            <g transform="translate(50, 650)">
                <rect class="legend-box" width="300" height="80" />
                <text class="legend" x="10" y="20" style="font-weight: bold;">Legend:</text>
                <text class="legend pk-field" x="10" y="40">PK - Primary Key</text>
                <text class="legend fk-field" x="10" y="55">FK - Foreign Key</text>
                <text class="legend" x="150" y="40">1:M - One to Many</text>
                <text class="legend" x="150" y="55">Relationship</text>
            </g>
        </svg>
    </div>
</body>
</html>